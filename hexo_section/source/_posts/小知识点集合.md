---
title: 小知识点集合
date: 2017-09-05 17:50:20
categories:
- MyDefaultCategory
tags:
toc: false
---

小知识点的集合。临时保存在这里。以后可能把同一类别的知识点抽离出去。

<!-- more -->

### Windows,为什么你配置VS时要`$(BOOST_HOME)stage\lib`而不是`$(BOOST_HOME)\stage\lib`  
建议设置类似路径的环境变量时，路径的末尾添加路径分隔符。例：  
```
$(BOOST_HOME)=`D:\boost\boost_1_63_0\`  建议。
$(BOOST_HOME)=`D:\boost\boost_1_63_0`   不建议。
```
配置一些路径的话，如果用到环境变量，建议如下配置：  
```
$(BOOST_HOME)stage\lib   建议。
$(BOOST_HOME)\stage\lib  不建议。
```
因为VS的所有环境变量都是这样设置的。比如$(ProjectDir),$(OutDir)等。  
你执行以下语句就知道原因了：  
```
xcopy /FRY  .\data.txt   .\temp_folder\
xcopy /FRY  .\\data.txt  .\temp_folder\
xcopy /R /Y  C:\temp_folder\data.txt  C:\
xcopy /R /Y  C:\temp_folder\\data.txt  C:\
xcopy /FRY   C:\temp_folder\\data.txt  C:\
```

### Linux,用密钥登录某远程机器时,总是失败,而用密码却能成功,我该怎么办  
在远程机器上`tail -f /var/log/secure`查看ssh登录安全日志。  
在某机器上用命令`ssh -p port -i identity_file user@hostname`查看错误提示。  
根据两者的提示，择机处理。  

### 怎么用命令行导入sql文件  
我有一个"D:\test.sql"文件, 该怎么用命令行将其导入到数据库呢? 如果部分语句出错, 我该怎么知道呢?  

#### 用sqlplus连接数据库的写法  
```
通用方式: sqlplus 用户名/密码@主机IP:端口/数据库名.数据库域名
通用方式: sqlplus 用户名/密码@主机IP:端口/服务名
一个例子: sqlplus system/mima@127.0.0.1:1521/zxdb.zxdomain
```
#### 执行sql脚本的方式如下  
```
cmd环境下:
D:\> sqlplus system/mima@127.0.0.1:1521/zxdb.zxdomain < D:\test.sql
SQL环境下:
方式1:  SQL> START D:\test.sql;    
方式2:  SQL>     @ D:\test.sql;
```
#### 将(SQL环境下)显示的内容输出到指定文件的方式  
```
SQL> SPOOL D:\log.log;  
SQL> SELECT 1+1 FROM dual;  执行一些操作
SQL> SPOOL OFF;             记得在操作结束之后执行一下该语句.
```
#### 命令行执行sql脚本并保存执行日志的方式  
1. 确认已经在sql文件的最后加上了`commit;`语句。  
2. 假定执行日志文件是"D:\log.log", 在第一行加上`SPOOL D:\log.log;`, 在最后一行加上`SPOOL OFF;`.  
3. 在cmd环境下执行sql脚本.  
备注：编码相关的事情没有测试(比如文件是UTF8,操作系统是GBK,Oracle是Unicode).  
猜测: 因为是命令行读取的文件,所以命令行是什么编码,就需要文件是什么编码,这样命令行才能正确读取数据.  
[Oracle数据库执行脚本常用命令小结](http://www.jb51.net/article/76786.htm), 该网页还附了一些基本命令.  

### 怎么制作Win10的U盘安装盘(可以UEFI引导)  
下载Win10原版ISO镜像, 然后使用UltraISO软碟通进行制作, 写入方式选择默认的USB-HDD+即可.  
也可以用`Universal-USB-Installer`或[Rufus](http://rufus.ie/)制作U盘启动盘。  
Win10专业版可以使用`W269N-WFGWX-YVC9B-4J6C9-T83GX`。  

### 查看Oracle数据库字符集  
用Oracle的exp工具导出的dmp文件中包含了字符集信息, dmp文件的第2和第3个字节记录了dmp文件的字符集. 以16进制方式查看第2第3个字节的内容, 如0354, 然后用以下SQL可以查出它对应的字符集:  
`SELECT nls_charset_name(to_number('0354','xxxx')) FROM dual;`  
在Linux下查看第2第3个字节的16进制内容的命令:  
`cat exp.dmp | od -x | head -1 | awk '{print $2 $3}' | cut -c 3-6`  
[Oracle字符集的查看查询和Oracle字符集的设置修改](http://www.linuxidc.com/Linux/2011-11/47383.htm)  

### 在Windows下用taskkill强杀进程的命令是什么  
```
D:\> TASKKILL /?
参数列表:
    /IM   imagename        指定要终止的进程的映像名称。通配符 '*'可用来
                           指定所有任务或映像名称。
    /F                     指定强制终止进程。
D:\> taskkill /im YourProcessName.exe /f
```

### 完全安装man手册  
* CentOS  
```
yum -y install man-pages
```
* Ubuntu  
```
apt-get -y install manpages-de manpages-de-dev manpages-dev manpages-posix manpages-posix-dev glibc-doc
```

### 查看Windows应用程序的启动时刻  
`Win+R`=>`msinfo32`=>`软件环境`=>`正在运行任务`=>然后你应当可以看到"开始时间"列。  

### 数据库建表时一定要预留一个字符串类型的字段  
在数据库建表时，一定要在最后预留一个字符串类型的字段，该字段可以取memo、ExtendField、config、等自己喜欢的名字。  
当后面有新需求，需要为表添加新列的时候，该字符串能以json格式存储多个列的值。  
你可能感觉自己预留的字段已经足够了，但是你永远也无法预知后续会提多么奇怪的需求。  

### Xshell快捷键
复制：` Ctrl+Insert`。  
粘贴：`Shift+Insert`。  
